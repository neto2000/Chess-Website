var Se=Object.defineProperty;var Ne=(e,t,i)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var W=(e,t,i)=>(Ne(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const s of u)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const s={};return u.integrity&&(s.integrity=u.integrity),u.referrerPolicy&&(s.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?s.credentials="include":u.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(u){if(u.ep)return;u.ep=!0;const s=i(u);fetch(u.href,s)}})();function N(){}function je(e,t){for(const i in t)e[i]=t[i];return e}function ae(e){return e()}function re(){return Object.create(null)}function F(e){e.forEach(ae)}function ge(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Q;function X(e,t){return e===t?!0:(Q||(Q=document.createElement("a")),Q.href=t,e===Q.href)}function Ae(e){return Object.keys(e).length===0}function Be(e,...t){if(e==null){for(const r of t)r(void 0);return N}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Le(e,t,i){e.$$.on_destroy.push(Be(t,i))}function Pe(e,t,i,r){if(e){const u=he(e,t,i,r);return e[0](u)}}function he(e,t,i,r){return e[1]&&r?je(i.ctx.slice(),e[1](r(t))):i.ctx}function qe(e,t,i,r){if(e[2]&&r){const u=e[2](r(i));if(t.dirty===void 0)return u;if(typeof u=="object"){const s=[],f=Math.max(t.dirty.length,u.length);for(let o=0;o<f;o+=1)s[o]=t.dirty[o]|u[o];return s}return t.dirty|u}return t.dirty}function Ke(e,t,i,r,u,s){if(u){const f=he(t,i,r,s);e.p(f,u)}}function Re(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let r=0;r<i;r++)t[r]=-1;return t}return-1}function O(e,t){e.appendChild(t)}function w(e,t,i){e.insertBefore(t,i||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function M(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function C(){return T(" ")}function x(){return T("")}function ee(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function b(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Ie(e){return Array.from(e.childNodes)}let te;function I(e){te=e}const K=[],v=[];let R=[];const Y=[],Fe=Promise.resolve();let Z=!1;function ze(){Z||(Z=!0,Fe.then(ce))}function $(e){R.push(e)}function k(e){Y.push(e)}const D=new Set;let P=0;function ce(){if(P!==0)return;const e=te;do{try{for(;P<K.length;){const t=K[P];P++,I(t),He(t.$$)}}catch(t){throw K.length=0,P=0,t}for(I(null),K.length=0,P=0;v.length;)v.pop()();for(let t=0;t<R.length;t+=1){const i=R[t];D.has(i)||(D.add(i),i())}R.length=0}while(K.length);for(;Y.length;)Y.pop()();Z=!1,D.clear(),I(e)}function He(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($)}}function Qe(e){const t=[],i=[];R.forEach(r=>e.indexOf(r)===-1?t.push(r):i.push(r)),i.forEach(r=>r()),R=t}const G=new Set;let L;function z(){L={r:0,c:[],p:L}}function H(){L.r||F(L.c),L=L.p}function m(e,t){e&&e.i&&(G.delete(e),e.i(t))}function p(e,t,i,r){if(e&&e.o){if(G.has(e))return;G.add(e),L.c.push(()=>{G.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}else r&&r()}function oe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function E(e,t,i){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=i,i(e.$$.ctx[r]))}function B(e){e&&e.c()}function j(e,t,i){const{fragment:r,after_update:u}=e.$$;r&&r.m(t,i),$(()=>{const s=e.$$.on_mount.map(ae).filter(ge);e.$$.on_destroy?e.$$.on_destroy.push(...s):F(s),e.$$.on_mount=[]}),u.forEach($)}function A(e,t){const i=e.$$;i.fragment!==null&&(Qe(i.after_update),F(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Ge(e,t){e.$$.dirty[0]===-1&&(K.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,i,r,u,s,f,o=[-1]){const n=te;I(e);const l=e.$$={fragment:null,ctx:[],props:s,update:N,not_equal:u,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(n?n.$$.context:[])),callbacks:re(),dirty:o,skip_bound:!1,root:t.target||n.$$.root};f&&f(l.root);let g=!1;if(l.ctx=i?i(e,t.props||{},(a,_,...c)=>{const d=c.length?c[0]:_;return l.ctx&&u(l.ctx[a],l.ctx[a]=d)&&(!l.skip_bound&&l.bound[a]&&l.bound[a](d),g&&Ge(e,a)),_}):[],l.update(),g=!0,F(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const a=Ie(t.target);l.fragment&&l.fragment.l(a),a.forEach(y)}else l.fragment&&l.fragment.c();t.intro&&m(e.$$.fragment),j(e,t.target,t.anchor),ce()}I(n)}class ie{constructor(){W(this,"$$");W(this,"$$set")}$destroy(){A(this,1),this.$destroy=N}$on(t,i){if(!ge(i))return N;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const u=r.indexOf(i);u!==-1&&r.splice(u,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Je="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Je);function Te(e){let t,i,r,u,s;return{c(){t=M("button"),i=M("img"),b(i,"class","figure-image svelte-1rysv6i"),X(i.src,r=e[1]+e[0]+".png")||b(i,"src",r),b(i,"alt",""),b(t,"class","figure-button svelte-1rysv6i")},m(f,o){w(f,t,o),O(t,i),u||(s=ee(t,"click",e[2]),u=!0)},p(f,[o]){o&3&&!X(i.src,r=f[1]+f[0]+".png")&&b(i,"src",r)},i:N,o:N,d(f){f&&y(t),u=!1,s()}}}function Ue(e,t,i){let r,{type:u}=t,{team:s}=t,{current_team:f}=t,{position:o={x:0,y:0}}=t,{field_array:n}=t,{move_to:l={bool:!1}}=t,g=!1;function a(){if(f!=s){console.log("cur: "+f+", team: "+s);return}g?(c(),g=!1):(_(),g=!0)}function _(){console.log("show highlight"),o.y-1>=0&&(i(4,n[o.y-1][o.x].is_highlight=!0,n),i(4,n[o.y-1][o.x].origin=o,n))}function c(){o.y-1>=0&&i(4,n[o.y-1][o.x].is_highlight=!1,n)}return e.$$set=d=>{"type"in d&&i(0,u=d.type),"team"in d&&i(5,s=d.team),"current_team"in d&&i(6,f=d.current_team),"position"in d&&i(7,o=d.position),"field_array"in d&&i(4,n=d.field_array),"move_to"in d&&i(3,l=d.move_to)},e.$$.update=()=>{e.$$.dirty&32&&i(1,r="/images/"+s+"-pixel/"),e.$$.dirty&169&&l.bool&&(i(3,l.bool=!1,l),c(),i(4,n[o.y][o.x]={figure:"none",is_highlight:!1},n),i(4,n[l.pos.y][l.pos.x]={figure:u,team:s,move_to:{bool:!1},is_highlight:!1},n))},[u,r,a,l,n,s,f,o]}class U extends ie{constructor(t){super(),ne(this,t,Ue,Te,J,{type:0,team:5,current_team:6,position:7,field_array:4,move_to:3})}}function Ve(e){let t,i,r,u,s,f,o;const n=e[5].default,l=Pe(n,e,e[4],null);return{c(){t=M("button"),i=M("img"),u=C(),l&&l.c(),b(i,"class","highlight-image svelte-1h4ejhx"),X(i.src,r="/images/highlight.svg")||b(i,"src",r),b(i,"alt",""),b(t,"class","highlight-button svelte-1h4ejhx")},m(g,a){w(g,t,a),O(t,i),O(t,u),l&&l.m(t,null),s=!0,f||(o=ee(t,"click",e[0]),f=!0)},p(g,[a]){l&&l.p&&(!s||a&16)&&Ke(l,n,g,g[4],s?qe(n,g[4],a,null):Re(g[4]),null)},i(g){s||(m(l,g),s=!0)},o(g){p(l,g),s=!1},d(g){g&&y(t),l&&l.d(g),f=!1,o()}}}function We(e,t,i){let{$$slots:r={},$$scope:u}=t,{origin:s={x:0,y:0}}=t,{field_array:f}=t,{position:o}=t;function n(){i(1,f[s.y][s.x].move_to={bool:!0,pos:o},f),i(1,f),console.log("move from "),console.log(s),console.log(o),console.log(f[7][6].move_to),console.log(f[7][1].move_to)}return e.$$set=l=>{"origin"in l&&i(2,s=l.origin),"field_array"in l&&i(1,f=l.field_array),"position"in l&&i(3,o=l.position),"$$scope"in l&&i(4,u=l.$$scope)},[n,f,s,o,u,r]}class V extends ie{constructor(t){super(),ne(this,t,We,Ve,J,{origin:2,field_array:1,position:3})}}const q=[];function De(e,t=N){let i;const r=new Set;function u(o){if(J(e,o)&&(e=o,i)){const n=!q.length;for(const l of r)l[1](),q.push(l,e);if(n){for(let l=0;l<q.length;l+=2)q[l][0](q[l+1]);q.length=0}}}function s(o){u(o(e))}function f(o,n=N){const l=[o,n];return r.add(l),r.size===1&&(i=t(u,s)||N),o(e),()=>{r.delete(l),r.size===0&&i&&(i(),i=null)}}return{set:u,update:s,subscribe:f}}const Xe=()=>{let e=new WebSocket("ws://localhost:9000/ws");const t=De(0),i=()=>t,r=u=>{console.log("send"),e.send(u)};return e.onmessage=function(u){t.set(u.data)},{getResponse:i,sendMessage:r}};function fe(e,t,i){const r=e.slice();return r[24]=t[i],r[26]=i,r}function Ye(e){let t,i,r,u,s,f,o;const n=[et,xe,$e],l=[];function g(a,_){return _&4&&(i=null),_&4&&(r=null),i==null&&(i=a[2][Math.floor(a[26]/8)][a[26]%8].figure=="none"),i?0:(r==null&&(r=!!a[2][Math.floor(a[26]/8)][a[26]%8].is_highlight),r?1:2)}return u=g(e,-1),s=l[u]=n[u](e),{c(){t=M("div"),s.c(),f=C(),b(t,"class","square-odd svelte-9e2cii")},m(a,_){w(a,t,_),l[u].m(t,null),O(t,f),o=!0},p(a,_){let c=u;u=g(a,_),u===c?l[u].p(a,_):(z(),p(l[c],1,1,()=>{l[c]=null}),H(),s=l[u],s?s.p(a,_):(s=l[u]=n[u](a),s.c()),m(s,1),s.m(t,f))},i(a){o||(m(s),o=!0)},o(a){p(s),o=!1},d(a){a&&y(t),l[u].d()}}}function Ze(e){let t,i,r,u,s,f,o;const n=[rt,it,nt],l=[];function g(a,_){return _&4&&(i=null),_&4&&(r=null),i==null&&(i=a[2][Math.floor(a[26]/8)][a[26]%8].figure=="none"),i?0:(r==null&&(r=!!a[2][Math.floor(a[26]/8)][a[26]%8].is_highlight),r?1:2)}return u=g(e,-1),s=l[u]=n[u](e),{c(){t=M("div"),s.c(),f=C(),b(t,"class","square-even svelte-9e2cii")},m(a,_){w(a,t,_),l[u].m(t,null),O(t,f),o=!0},p(a,_){let c=u;u=g(a,_),u===c?l[u].p(a,_):(z(),p(l[c],1,1,()=>{l[c]=null}),H(),s=l[u],s?s.p(a,_):(s=l[u]=n[u](a),s.c()),m(s,1),s.m(t,f))},i(a){o||(m(s),o=!0)},o(a){p(s),o=!1},d(a){a&&y(t),l[u].d()}}}function $e(e){let t,i,r,u;function s(n){e[17](n)}function f(n){e[18](n)}let o={type:e[2][Math.floor(e[26]/8)][e[26]%8].figure,team:e[2][Math.floor(e[26]/8)][e[26]%8].team,position:{x:e[26]%8,y:Math.floor(e[26]/8)},move_to:e[2][Math.floor(e[26]/8)][e[26]%8].move_to};return e[1]!==void 0&&(o.current_team=e[1]),e[2]!==void 0&&(o.field_array=e[2]),t=new U({props:o}),v.push(()=>E(t,"current_team",s)),v.push(()=>E(t,"field_array",f)),{c(){B(t.$$.fragment)},m(n,l){j(t,n,l),u=!0},p(n,l){const g={};l&4&&(g.type=n[2][Math.floor(n[26]/8)][n[26]%8].figure),l&4&&(g.team=n[2][Math.floor(n[26]/8)][n[26]%8].team),l&4&&(g.move_to=n[2][Math.floor(n[26]/8)][n[26]%8].move_to),!i&&l&2&&(i=!0,g.current_team=n[1],k(()=>i=!1)),!r&&l&4&&(r=!0,g.field_array=n[2],k(()=>r=!1)),t.$set(g)},i(n){u||(m(t.$$.fragment,n),u=!0)},o(n){p(t.$$.fragment,n),u=!1},d(n){A(t,n)}}}function xe(e){let t,i,r;function u(f){e[16](f)}let s={origin:e[2][Math.floor(e[26]/8)][e[26]%8].origin,position:{x:e[26]%8,y:Math.floor(e[26]/8)},$$slots:{default:[tt]},$$scope:{ctx:e}};return e[2]!==void 0&&(s.field_array=e[2]),t=new V({props:s}),v.push(()=>E(t,"field_array",u)),{c(){B(t.$$.fragment)},m(f,o){j(t,f,o),r=!0},p(f,o){const n={};o&4&&(n.origin=f[2][Math.floor(f[26]/8)][f[26]%8].origin),o&134217734&&(n.$$scope={dirty:o,ctx:f}),!i&&o&4&&(i=!0,n.field_array=f[2],k(()=>i=!1)),t.$set(n)},i(f){r||(m(t.$$.fragment,f),r=!0)},o(f){p(t.$$.fragment,f),r=!1},d(f){A(t,f)}}}function et(e){let t="",i,r,u=e[2][Math.floor(e[26]/8)][e[26]%8].is_highlight,s,f,o=u&&le(e);return{c(){i=T(t),r=C(),o&&o.c(),s=x()},m(n,l){w(n,i,l),w(n,r,l),o&&o.m(n,l),w(n,s,l),f=!0},p(n,l){l&4&&(u=n[2][Math.floor(n[26]/8)][n[26]%8].is_highlight),u?o?(o.p(n,l),l&4&&m(o,1)):(o=le(n),o.c(),m(o,1),o.m(s.parentNode,s)):o&&(z(),p(o,1,1,()=>{o=null}),H())},i(n){f||(m(o),f=!0)},o(n){p(o),f=!1},d(n){n&&(y(i),y(r),y(s)),o&&o.d(n)}}}function tt(e){let t,i,r,u;function s(n){e[14](n)}function f(n){e[15](n)}let o={type:e[2][Math.floor(e[26]/8)][e[26]%8].figure,team:e[2][Math.floor(e[26]/8)][e[26]%8].team,position:{x:e[26]%8,y:Math.floor(e[26]/8)},move_to:e[2][Math.floor(e[26]/8)][e[26]%8].move_to};return e[1]!==void 0&&(o.current_team=e[1]),e[2]!==void 0&&(o.field_array=e[2]),t=new U({props:o}),v.push(()=>E(t,"current_team",s)),v.push(()=>E(t,"field_array",f)),{c(){B(t.$$.fragment)},m(n,l){j(t,n,l),u=!0},p(n,l){const g={};l&4&&(g.type=n[2][Math.floor(n[26]/8)][n[26]%8].figure),l&4&&(g.team=n[2][Math.floor(n[26]/8)][n[26]%8].team),l&4&&(g.move_to=n[2][Math.floor(n[26]/8)][n[26]%8].move_to),!i&&l&2&&(i=!0,g.current_team=n[1],k(()=>i=!1)),!r&&l&4&&(r=!0,g.field_array=n[2],k(()=>r=!1)),t.$set(g)},i(n){u||(m(t.$$.fragment,n),u=!0)},o(n){p(t.$$.fragment,n),u=!1},d(n){A(t,n)}}}function le(e){let t,i,r;function u(f){e[13](f)}let s={origin:e[2][Math.floor(e[26]/8)][e[26]%8].origin,position:{x:e[26]%8,y:Math.floor(e[26]/8)}};return e[2]!==void 0&&(s.field_array=e[2]),t=new V({props:s}),v.push(()=>E(t,"field_array",u)),{c(){B(t.$$.fragment)},m(f,o){j(t,f,o),r=!0},p(f,o){const n={};o&4&&(n.origin=f[2][Math.floor(f[26]/8)][f[26]%8].origin),!i&&o&4&&(i=!0,n.field_array=f[2],k(()=>i=!1)),t.$set(n)},i(f){r||(m(t.$$.fragment,f),r=!0)},o(f){p(t.$$.fragment,f),r=!1},d(f){A(t,f)}}}function nt(e){let t,i,r,u;function s(n){e[11](n)}function f(n){e[12](n)}let o={type:e[2][Math.floor(e[26]/8)][e[26]%8].figure,team:e[2][Math.floor(e[26]/8)][e[26]%8].team,position:{x:e[26]%8,y:Math.floor(e[26]/8)},move_to:e[2][Math.floor(e[26]/8)][e[26]%8].move_to};return e[1]!==void 0&&(o.current_team=e[1]),e[2]!==void 0&&(o.field_array=e[2]),t=new U({props:o}),v.push(()=>E(t,"current_team",s)),v.push(()=>E(t,"field_array",f)),{c(){B(t.$$.fragment)},m(n,l){j(t,n,l),u=!0},p(n,l){const g={};l&4&&(g.type=n[2][Math.floor(n[26]/8)][n[26]%8].figure),l&4&&(g.team=n[2][Math.floor(n[26]/8)][n[26]%8].team),l&4&&(g.move_to=n[2][Math.floor(n[26]/8)][n[26]%8].move_to),!i&&l&2&&(i=!0,g.current_team=n[1],k(()=>i=!1)),!r&&l&4&&(r=!0,g.field_array=n[2],k(()=>r=!1)),t.$set(g)},i(n){u||(m(t.$$.fragment,n),u=!0)},o(n){p(t.$$.fragment,n),u=!1},d(n){A(t,n)}}}function it(e){let t,i,r;function u(f){e[10](f)}let s={origin:e[2][Math.floor(e[26]/8)][e[26]%8].origin,position:{x:e[26]%8,y:Math.floor(e[26]/8)},$$slots:{default:[ot]},$$scope:{ctx:e}};return e[2]!==void 0&&(s.field_array=e[2]),t=new V({props:s}),v.push(()=>E(t,"field_array",u)),{c(){B(t.$$.fragment)},m(f,o){j(t,f,o),r=!0},p(f,o){const n={};o&4&&(n.origin=f[2][Math.floor(f[26]/8)][f[26]%8].origin),o&134217734&&(n.$$scope={dirty:o,ctx:f}),!i&&o&4&&(i=!0,n.field_array=f[2],k(()=>i=!1)),t.$set(n)},i(f){r||(m(t.$$.fragment,f),r=!0)},o(f){p(t.$$.fragment,f),r=!1},d(f){A(t,f)}}}function rt(e){let t="",i,r,u=e[2][Math.floor(e[26]/8)][e[26]%8].is_highlight,s,f,o=u&&ue(e);return{c(){i=T(t),r=C(),o&&o.c(),s=x()},m(n,l){w(n,i,l),w(n,r,l),o&&o.m(n,l),w(n,s,l),f=!0},p(n,l){l&4&&(u=n[2][Math.floor(n[26]/8)][n[26]%8].is_highlight),u?o?(o.p(n,l),l&4&&m(o,1)):(o=ue(n),o.c(),m(o,1),o.m(s.parentNode,s)):o&&(z(),p(o,1,1,()=>{o=null}),H())},i(n){f||(m(o),f=!0)},o(n){p(o),f=!1},d(n){n&&(y(i),y(r),y(s)),o&&o.d(n)}}}function ot(e){let t,i,r,u;function s(n){e[8](n)}function f(n){e[9](n)}let o={type:e[2][Math.floor(e[26]/8)][e[26]%8].figure,team:e[2][Math.floor(e[26]/8)][e[26]%8].team,position:{x:e[26]%8,y:Math.floor(e[26]/8)},move_to:e[2][Math.floor(e[26]/8)][e[26]%8].move_to};return e[1]!==void 0&&(o.current_team=e[1]),e[2]!==void 0&&(o.field_array=e[2]),t=new U({props:o}),v.push(()=>E(t,"current_team",s)),v.push(()=>E(t,"field_array",f)),{c(){B(t.$$.fragment)},m(n,l){j(t,n,l),u=!0},p(n,l){const g={};l&4&&(g.type=n[2][Math.floor(n[26]/8)][n[26]%8].figure),l&4&&(g.team=n[2][Math.floor(n[26]/8)][n[26]%8].team),l&4&&(g.move_to=n[2][Math.floor(n[26]/8)][n[26]%8].move_to),!i&&l&2&&(i=!0,g.current_team=n[1],k(()=>i=!1)),!r&&l&4&&(r=!0,g.field_array=n[2],k(()=>r=!1)),t.$set(g)},i(n){u||(m(t.$$.fragment,n),u=!0)},o(n){p(t.$$.fragment,n),u=!1},d(n){A(t,n)}}}function ue(e){let t,i,r;function u(f){e[7](f)}let s={origin:e[2][Math.floor(e[26]/8)][e[26]%8].origin,position:{x:e[26]%8,y:Math.floor(e[26]/8)}};return e[2]!==void 0&&(s.field_array=e[2]),t=new V({props:s}),v.push(()=>E(t,"field_array",u)),{c(){B(t.$$.fragment)},m(f,o){j(t,f,o),r=!0},p(f,o){const n={};o&4&&(n.origin=f[2][Math.floor(f[26]/8)][f[26]%8].origin),!i&&o&4&&(i=!0,n.field_array=f[2],k(()=>i=!1)),t.$set(n)},i(f){r||(m(t.$$.fragment,f),r=!0)},o(f){p(t.$$.fragment,f),r=!1},d(f){A(t,f)}}}function se(e){let t,i,r,u;const s=[Ze,Ye],f=[];function o(n,l){return(n[26]+Math.floor(n[26]/8))%2==0?0:1}return t=o(e),i=f[t]=s[t](e),{c(){i.c(),r=x()},m(n,l){f[t].m(n,l),w(n,r,l),u=!0},p(n,l){i.p(n,l)},i(n){u||(m(i),u=!0)},o(n){p(i),u=!1},d(n){n&&y(r),f[t].d(n)}}}function _e(e){let t,i,r,u,s;return{c(){t=M("div"),i=M("div"),r=M("button"),r.textContent="Join",b(r,"class","overlay-text svelte-9e2cii"),b(i,"class","overlay-container svelte-9e2cii"),b(t,"class","GameOverScreen svelte-9e2cii")},m(f,o){w(f,t,o),O(t,i),O(i,r),u||(s=ee(r,"click",e[19]),u=!0)},p:N,d(f){f&&y(t),u=!1,s()}}}function ft(e){let t,i,r,u,s,f,o=oe({length:64}),n=[];for(let a=0;a<o.length;a+=1)n[a]=se(fe(e,o,a));const l=a=>p(n[a],1,1,()=>{n[a]=null});let g=e[0]&&_e(e);return{c(){t=M("main"),i=M("div"),r=M("div");for(let a=0;a<n.length;a+=1)n[a].c();u=C(),s=M("div"),g&&g.c(),b(r,"class","chess-board svelte-9e2cii"),b(i,"class","board-container svelte-9e2cii")},m(a,_){w(a,t,_),O(t,i),O(i,r);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(r,null);O(t,u),O(t,s),g&&g.m(s,null),f=!0},p(a,[_]){if(_&6){o=oe({length:64});let c;for(c=0;c<o.length;c+=1){const d=fe(a,o,c);n[c]?(n[c].p(d,_),m(n[c],1)):(n[c]=se(d),n[c].c(),m(n[c],1),n[c].m(r,null))}for(z(),c=o.length;c<n.length;c+=1)l(c);H()}a[0]?g?g.p(a,_):(g=_e(a),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},i(a){if(!f){for(let _=0;_<o.length;_+=1)m(n[_]);f=!0}},o(a){n=n.filter(Boolean);for(let _=0;_<n.length;_+=1)p(n[_]);f=!1},d(a){a&&y(t),Ce(n,a),g&&g.d()}}}function lt(e,t,i){let r,u;const s=Xe(),f=s.getResponse();Le(e,f,h=>i(6,u=h));let o=!0,n="white";function l(h){h=="which team"&&i(0,o=!1),s.sendMessage(h)}function g(h){for(let S=0;S<8;S++)i(2,_[6][S]={figure:"Pawn",team:h,move_to:{bool:!1}},_);i(2,_[7][0]={figure:"Rook",team:h,move_to:{bool:!1}},_),i(2,_[7][7]={figure:"Rook",team:h,move_to:{bool:!1}},_),i(2,_[7][1]={figure:"Knight",team:h,move_to:{bool:!1}},_),i(2,_[7][6]={figure:"Knight",team:h,move_to:{bool:!1}},_),i(2,_[7][2]={figure:"Bishop",team:h,move_to:{bool:!1}},_),i(2,_[7][5]={figure:"Bishop",team:h,move_to:{bool:!1}},_),i(2,_[7][3]={figure:"Queen",team:h,move_to:{bool:!1}},_),i(2,_[7][4]={figure:"King",team:h,move_to:{bool:!1}},_)}function a(h){for(let S=0;S<8;S++)i(2,_[1][S]={figure:"Pawn",team:h,move_to:{bool:!1}},_);i(2,_[0][0]={figure:"Rook",team:h,move_to:{bool:!1}},_),i(2,_[0][7]={figure:"Rook",team:h,move_to:{bool:!1}},_),i(2,_[0][1]={figure:"Knight",team:h,move_to:{bool:!1}},_),i(2,_[0][6]={figure:"Knight",team:h,move_to:{bool:!1}},_),i(2,_[0][2]={figure:"Bishop",team:h,move_to:{bool:!1}},_),i(2,_[0][5]={figure:"Bishop",team:h,move_to:{bool:!1}},_),i(2,_[0][3]={figure:"Queen",team:h,move_to:{bool:!1}},_),i(2,_[0][4]={figure:"King",team:h,move_to:{bool:!1}},_)}let _=[];for(let h=0;h<8;h++){_.push([]);for(let S=0;S<8;S++)_[h].push({figure:"none",move_to:{bool:!1},is_highlight:!1})}_=_;function c(h){_=h,i(2,_)}function d(h){n=h,i(1,n)}function me(h){_=h,i(2,_)}function de(h){_=h,i(2,_)}function pe(h){n=h,i(1,n)}function be(h){_=h,i(2,_)}function ye(h){_=h,i(2,_)}function ve(h){n=h,i(1,n)}function Me(h){_=h,i(2,_)}function we(h){_=h,i(2,_)}function ke(h){n=h,i(1,n)}function Ee(h){_=h,i(2,_)}const Oe=()=>l("which team");return e.$$.update=()=>{e.$$.dirty&64&&i(5,r=u.toString()),e.$$.dirty&32&&(console.log(r),r=="black"?(g("black"),a("white")):r=="white"&&(g("white"),a("black")))},[o,n,_,f,l,r,u,c,d,me,de,pe,be,ye,ve,Me,we,ke,Ee,Oe]}class ut extends ie{constructor(t){super(),ne(this,t,lt,ft,J,{})}}new ut({target:document.getElementById("app")});
