var Qe=Object.defineProperty;var Le=(e,t,l)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var ie=(e,t,l)=>(Le(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))f(i);new MutationObserver(i=>{for(const h of i)if(h.type==="childList")for(const n of h.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function l(i){const h={};return i.integrity&&(h.integrity=i.integrity),i.referrerPolicy&&(h.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?h.credentials="include":i.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(i){if(i.ep)return;i.ep=!0;const h=l(i);fetch(i.href,h)}})();function q(){}function Ke(e){return e()}function qe(){return Object.create(null)}function F(e){e.forEach(Ke)}function Oe(e){return typeof e=="function"}function de(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ne(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function A(e,t,l){e.insertBefore(t,l||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function Ae(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function b(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function k(){return G(" ")}function Re(){return G("")}function Q(e,t,l,f){return e.addEventListener(t,l,f),()=>e.removeEventListener(t,l,f)}function E(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function fe(e){return e===""?null:+e}function Se(e){return Array.from(e.childNodes)}function je(e,t){t=""+t,e.data!==t&&(e.data=t)}function O(e,t){e.value=t??""}let ge;function Y(e){ge=e}const z=[],N=[];let D=[];const he=[],ze=Promise.resolve();let ae=!1;function De(){ae||(ae=!0,ze.then(Pe))}function _e(e){D.push(e)}function ne(e){he.push(e)}const ce=new Set;let j=0;function Pe(){if(j!==0)return;const e=ge;do{try{for(;j<z.length;){const t=z[j];j++,Y(t),Ie(t.$$)}}catch(t){throw z.length=0,j=0,t}for(Y(null),z.length=0,j=0;N.length;)N.pop()();for(let t=0;t<D.length;t+=1){const l=D[t];ce.has(l)||(ce.add(l),l())}D.length=0}while(z.length);for(;he.length;)he.pop()();ae=!1,ce.clear(),Y(e)}function Ie(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function Fe(e){const t=[],l=[];D.forEach(f=>e.indexOf(f)===-1?t.push(f):l.push(f)),l.forEach(f=>f()),D=t}const re=new Set;let L;function ye(){L={r:0,c:[],p:L}}function pe(){L.r||F(L.c),L=L.p}function M(e,t){e&&e.i&&(re.delete(e),e.i(t))}function $(e,t,l,f){if(e&&e.o){if(re.has(e))return;re.add(e),L.c.push(()=>{re.delete(e),f&&(l&&e.d(1),f())}),e.o(t)}else f&&f()}function xe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ue(e,t,l){const f=e.$$.props[t];f!==void 0&&(e.$$.bound[f]=l,l(e.$$.ctx[f]))}function H(e){e&&e.c()}function T(e,t,l){const{fragment:f,after_update:i}=e.$$;f&&f.m(t,l),_e(()=>{const h=e.$$.on_mount.map(Ke).filter(Oe);e.$$.on_destroy?e.$$.on_destroy.push(...h):F(h),e.$$.on_mount=[]}),i.forEach(_e)}function U(e,t){const l=e.$$;l.fragment!==null&&(Fe(l.after_update),F(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Te(e,t){e.$$.dirty[0]===-1&&(z.push(e),De(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(e,t,l,f,i,h,n,o=[-1]){const r=ge;Y(e);const s=e.$$={fragment:null,ctx:[],props:h,update:q,not_equal:i,bound:qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:qe(),dirty:o,skip_bound:!1,root:t.target||r.$$.root};n&&n(s.root);let c=!1;if(s.ctx=l?l(e,t.props||{},(u,a,...g)=>{const K=g.length?g[0]:a;return s.ctx&&i(s.ctx[u],s.ctx[u]=K)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](K),c&&Te(e,u)),a}):[],s.update(),c=!0,F(s.before_update),s.fragment=f?f(s.ctx):!1,t.target){if(t.hydrate){const u=Se(t.target);s.fragment&&s.fragment.l(u),u.forEach(P)}else s.fragment&&s.fragment.c();t.intro&&M(e.$$.fragment),T(e,t.target,t.anchor),Pe()}Y(r)}class me{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){U(this,1),this.$destroy=q}$on(t,l){if(!Oe(l))return q;const f=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return f.push(l),()=>{const i=f.indexOf(l);i!==-1&&f.splice(i,1)}}$set(t){this.$$set&&!Ne(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ue="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ue);function Ve(e){let t,l=e[0]+", "+e[1],f;return{c(){t=b("button"),f=G(l),E(t,"class","figure-button svelte-1fp8nh6")},m(i,h){A(i,t,h),d(t,f)},p(i,[h]){h&3&&l!==(l=i[0]+", "+i[1])&&je(f,l)},i:q,o:q,d(i){i&&P(t)}}}function Xe(e,t,l){let{type:f}=t,{team:i}=t,{position:h={x:0,y:0}}=t,{field_array:n}=t,{move_to:o={bool:!1}}=t,{own_team:r}=t,{enemy_team:s}=t;return e.$$set=c=>{"type"in c&&l(0,f=c.type),"team"in c&&l(1,i=c.team),"position"in c&&l(2,h=c.position),"field_array"in c&&l(3,n=c.field_array),"move_to"in c&&l(4,o=c.move_to),"own_team"in c&&l(5,r=c.own_team),"enemy_team"in c&&l(6,s=c.enemy_team)},e.$$.update=()=>{e.$$.dirty&2},[f,i,h,n,o,r,s]}class oe extends me{constructor(t){super(),be(this,t,Xe,Ve,de,{type:0,team:1,position:2,field_array:3,move_to:4,own_team:5,enemy_team:6})}}function Ye(e,t,l){let f=[!1];const i=(o,r,s,c)=>{h("Pawn",s,c,o,{x:r.x-1,y:r.y-1}),h("Pawn",s,c,o,{x:r.x+1,y:r.y-1});for(let u=-1;u<2;u++)for(let a=-1;a<2;a++)a==0&&u==0||h("King",s,c,o,{x:r.x+a,y:r.y+u});for(let u=-1;u>-8;u--){let a=h("Rook",s,c,o,{x:r.x+u,y:r.y});if(!h("Queen",s,c,o,{x:r.x+u,y:r.y})&&!a)break}for(let u=1;u<8;u++){let a=h("Rook",s,c,o,{x:r.x+u,y:r.y});if(!h("Queen",s,c,o,{x:r.x+u,y:r.y})&&!a)break}for(let u=-1;u>-8;u--){let a=h("Rook",s,c,o,{x:r.x,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x,y:r.y+u})&&!a)break}for(let u=1;u<8;u++){let a=h("Rook",s,c,o,{x:r.x,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x,y:r.y+u})&&!a)break}for(let u=-1;u>-8;u--){let a=h("Bishop",s,c,o,{x:r.x+u,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x+u,y:r.y+u})&&!a)break}for(let u=1;u<8;u++){let a=h("Bishop",s,c,o,{x:r.x+u,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x+u,y:r.y+u})&&!a)break}for(let u=-1;u>-8;u--){let a=h("Bishop",s,c,o,{x:r.x-u,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x-u,y:r.y+u})&&!a)break}for(let u=1;u<8;u++){let a=h("Bishop",s,c,o,{x:r.x-u,y:r.y+u});if(!h("Queen",s,c,o,{x:r.x-u,y:r.y+u})&&!a)break}h("Knight",s,c,o,{x:r.x-2,y:r.y+1}),h("Knight",s,c,o,{x:r.x-2,y:r.y-1}),h("Knight",s,c,o,{x:r.x+2,y:r.y+1}),h("Knight",s,c,o,{x:r.x+2,y:r.y-1}),h("Knight",s,c,o,{x:r.x-1,y:r.y+2}),h("Knight",s,c,o,{x:r.x+1,y:r.y+2}),h("Knight",s,c,o,{x:r.x-1,y:r.y-2}),h("Knight",s,c,o,{x:r.x+1,y:r.y-2})};function h(o,r,s,c,u){return u.y<0||u.y>7||u.x<0||u.x>7?(console.log("over borders!"),!1):c[u.y][u.x].team==r?(console.log("own team!"),!1):(c[u.y][u.x].figure==o&&c[u.y][u.x].team==s&&(console.log("chess"),f[0]=!0,f.push({type:o,pos:u}),console.log(f)),c[u.y][u.x].team!=s)}return[i,o=>{let r=[];for(let s=0;s<f.length;s++)if(r.push(f[s].pos),f[s].type=="Queen"||f[s].type=="Rook"||f[s].type=="Bishop"){if(f[s].pos.x==o.x){if(f[s].pos.y>o.y)for(let c=o.y+1;c<f[s].pos.y;c++)r.push({x:o.x,y:c});else for(let c=f[s].pos.y+1;c<o.y;c++)r.push({x:o.x,y:c});continue}if(f[s].pos.y==o.y){if(f[s].pos.x>o.x)for(let c=o.x+1;c<f[s].pos.x;c++)r.push({y:o.y,x:c});else for(let c=f[s].pos.x+1;c<o.x;c++)r.push({y:o.y,x:c});continue}if(f[s].pos.y>o.y&&f[s].pos.x>o.x)for(let c=1;o.x+c<f[s].pos.x;c++)r.push({x:o.x+c,y:o.y+c});if(f[s].pos.y<o.y&&f[s].pos.x<o.x)for(let c=1;c+f[s].pos.x<o.x;c++)r.push({x:f[s].pos.x+c,y:f[s].pos.y+c});if(f[s].pos.y>o.y&&f[s].pos.x<o.x)for(let c=1;c+f[s].pos.x<o.x;c++)r.push({x:o.x-c,y:o.y+c});if(f[s].pos.y<o.y&&f[s].pos.x>o.x)for(let c=1;o.x+c<f[s].pos.x;c++)r.push({x:o.x+c,y:o.y-c})}console.log(r)}]}class Ge extends me{constructor(t){super(),be(this,t,Ye,null,de,{check_check:0,get_check_prevent_position:1})}get check_check(){return this.$$.ctx[0]}get get_check_prevent_position(){return this.$$.ctx[1]}}function Ce(e,t,l){const f=e.slice();return f[18]=t[l],f[20]=l,f}function He(e){let t,l,f,i,h,n,o;const r=[et,Ze,We],s=[];function c(u,a){return a&2&&(l=null),a&2&&(f=null),l==null&&(l=u[1][Math.floor(u[20]/8)][u[20]%8].figure=="none"),l?0:(f==null&&(f=!!u[1][Math.floor(u[20]/8)][u[20]%8].is_highlight),f?1:2)}return i=c(e,-1),h=s[i]=r[i](e),{c(){t=b("div"),h.c(),n=k(),E(t,"class","square-odd svelte-6zkk18")},m(u,a){A(u,t,a),s[i].m(t,null),d(t,n),o=!0},p(u,a){let g=i;i=c(u,a),i===g?s[i].p(u,a):(ye(),$(s[g],1,1,()=>{s[g]=null}),pe(),h=s[i],h?h.p(u,a):(h=s[i]=r[i](u),h.c()),M(h,1),h.m(t,n))},i(u){o||(M(h),o=!0)},o(u){$(h),o=!1},d(u){u&&P(t),s[i].d()}}}function Je(e){let t,l,f,i,h,n,o;const r=[rt,lt,tt],s=[];function c(u,a){return a&2&&(l=null),a&2&&(f=null),l==null&&(l=u[1][Math.floor(u[20]/8)][u[20]%8].figure=="none"),l?0:(f==null&&(f=!!u[1][Math.floor(u[20]/8)][u[20]%8].is_highlight),f?1:2)}return i=c(e,-1),h=s[i]=r[i](e),{c(){t=b("div"),h.c(),n=k(),E(t,"class","square-even svelte-6zkk18")},m(u,a){A(u,t,a),s[i].m(t,null),d(t,n),o=!0},p(u,a){let g=i;i=c(u,a),i===g?s[i].p(u,a):(ye(),$(s[g],1,1,()=>{s[g]=null}),pe(),h=s[i],h?h.p(u,a):(h=s[i]=r[i](u),h.c()),M(h,1),h.m(t,n))},i(u){o||(M(h),o=!0)},o(u){$(h),o=!1},d(u){u&&P(t),s[i].d()}}}function We(e){let t,l,f;function i(n){e[17](n)}let h={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:I,enemy_team:J};return e[1]!==void 0&&(h.field_array=e[1]),t=new oe({props:h}),N.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),f=!0},p(n,o){const r={};o&2&&(r.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(r.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(r.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!l&&o&2&&(l=!0,r.field_array=n[1],ne(()=>l=!1)),t.$set(r)},i(n){f||(M(t.$$.fragment,n),f=!0)},o(n){$(t.$$.fragment,n),f=!1},d(n){U(t,n)}}}function Ze(e){let t,l,f;function i(n){e[16](n)}let h={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:I,enemy_team:J};return e[1]!==void 0&&(h.field_array=e[1]),t=new oe({props:h}),N.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),f=!0},p(n,o){const r={};o&2&&(r.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(r.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(r.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!l&&o&2&&(l=!0,r.field_array=n[1],ne(()=>l=!1)),t.$set(r)},i(n){f||(M(t.$$.fragment,n),f=!0)},o(n){$(t.$$.fragment,n),f=!1},d(n){U(t,n)}}}function et(e){let t="",l;return{c(){l=G(t)},m(f,i){A(f,l,i)},p:q,i:q,o:q,d(f){f&&P(l)}}}function tt(e){let t,l,f;function i(n){e[15](n)}let h={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:I,enemy_team:J};return e[1]!==void 0&&(h.field_array=e[1]),t=new oe({props:h}),N.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),f=!0},p(n,o){const r={};o&2&&(r.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(r.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(r.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!l&&o&2&&(l=!0,r.field_array=n[1],ne(()=>l=!1)),t.$set(r)},i(n){f||(M(t.$$.fragment,n),f=!0)},o(n){$(t.$$.fragment,n),f=!1},d(n){U(t,n)}}}function lt(e){let t,l,f;function i(n){e[14](n)}let h={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:I,enemy_team:J};return e[1]!==void 0&&(h.field_array=e[1]),t=new oe({props:h}),N.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),f=!0},p(n,o){const r={};o&2&&(r.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(r.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(r.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!l&&o&2&&(l=!0,r.field_array=n[1],ne(()=>l=!1)),t.$set(r)},i(n){f||(M(t.$$.fragment,n),f=!0)},o(n){$(t.$$.fragment,n),f=!1},d(n){U(t,n)}}}function rt(e){let t="",l;return{c(){l=G(t)},m(f,i){A(f,l,i)},p:q,i:q,o:q,d(f){f&&P(l)}}}function Ee(e){let t,l,f,i;const h=[Je,He],n=[];function o(r,s){return(r[20]+Math.floor(r[20]/8))%2==0?0:1}return t=o(e),l=n[t]=h[t](e),{c(){l.c(),f=Re()},m(r,s){n[t].m(r,s),A(r,f,s),i=!0},p(r,s){l.p(r,s)},i(r){i||(M(l),i=!0)},o(r){$(l),i=!1},d(r){r&&P(f),n[t].d(r)}}}function ft(e){let t,l,f,i,h,n,o,r,s,c,u,a,g,K,W,x,Z,V,ee,C,p,R,ve,w,ke,te,X,le,se,Me,we={};l=new Ge({props:we}),e[7](l);let B=xe({length:64}),y=[];for(let _=0;_<B.length;_+=1)y[_]=Ee(Ce(e,B,_));const Be=_=>$(y[_],1,1,()=>{y[_]=null});return{c(){t=b("main"),H(l.$$.fragment),f=k(),i=b("input"),h=k(),n=b("button"),n.textContent="Place",o=k(),r=b("button"),r.textContent="Check",s=k(),c=b("button"),c.textContent="Prevent Pos",u=k(),a=b("br"),g=k(),K=b("p"),K.textContent="Y",W=k(),x=b("input"),Z=k(),V=b("p"),V.textContent="X",ee=k(),C=b("input"),p=k(),R=b("p"),R.textContent="Team",ve=k(),w=b("input"),ke=k(),te=b("div"),X=b("div");for(let _=0;_<y.length;_+=1)y[_].c();E(i,"type","text"),E(x,"type","number"),E(C,"type","number"),E(w,"type","text"),E(X,"class","chess-board svelte-6zkk18"),E(te,"class","board-container svelte-6zkk18")},m(_,m){A(_,t,m),T(l,t,null),d(t,f),d(t,i),O(i,e[2]),d(t,h),d(t,n),d(t,o),d(t,r),d(t,s),d(t,c),d(t,u),d(t,a),d(t,g),d(t,K),d(t,W),d(t,x),O(x,e[3]),d(t,Z),d(t,V),d(t,ee),d(t,C),O(C,e[4]),d(t,p),d(t,R),d(t,ve),d(t,w),O(w,e[5]),d(t,ke),d(t,te),d(te,X);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(X,null);le=!0,se||(Me=[Q(i,"input",e[8]),Q(n,"click",e[6]),Q(r,"click",e[9]),Q(c,"click",e[10]),Q(x,"input",e[11]),Q(C,"input",e[12]),Q(w,"input",e[13])],se=!0)},p(_,[m]){const S={};if(l.$set(S),m&4&&i.value!==_[2]&&O(i,_[2]),m&8&&fe(x.value)!==_[3]&&O(x,_[3]),m&16&&fe(C.value)!==_[4]&&O(C,_[4]),m&32&&w.value!==_[5]&&O(w,_[5]),m&2){B=xe({length:64});let v;for(v=0;v<B.length;v+=1){const $e=Ce(_,B,v);y[v]?(y[v].p($e,m),M(y[v],1)):(y[v]=Ee($e),y[v].c(),M(y[v],1),y[v].m(X,null))}for(ye(),v=B.length;v<y.length;v+=1)Be(v);pe()}},i(_){if(!le){M(l.$$.fragment,_);for(let m=0;m<B.length;m+=1)M(y[m]);le=!0}},o(_){$(l.$$.fragment,_),y=y.filter(Boolean);for(let m=0;m<y.length;m+=1)$(y[m]);le=!1},d(_){_&&P(t),e[7](null),U(l),Ae(y,_),se=!1,F(Me)}}}let I="white",J="black";function nt(e,t,l){let f,i=[];for(let p=0;p<8;p++){i.push([]);for(let R=0;R<8;R++)i[p].push({figure:"none",move_to:{bool:!1},is_highlight:!1,origin_pos:!1})}i[4][4]={figure:"King",team:I,move_to:{bool:!1},is_highlight:!1,origin_pos:!1},i=i;let h="none",n=0,o=0,r="";function s(){console.log(h),console.log(n),console.log(o),console.log(r),l(1,i[n][o]={figure:h,team:r,move_to:{bool:!1},is_highlight:!1,origin_pos:!1},i),l(1,i)}function c(p){N[p?"unshift":"push"](()=>{f=p,l(0,f)})}function u(){h=this.value,l(2,h)}const a=()=>f.check_check(i,{x:4,y:4},I,J),g=()=>f.get_check_prevent_position({x:4,y:4});function K(){n=fe(this.value),l(3,n)}function W(){o=fe(this.value),l(4,o)}function x(){r=this.value,l(5,r)}function Z(p){i=p,l(1,i)}function V(p){i=p,l(1,i)}function ee(p){i=p,l(1,i)}function C(p){i=p,l(1,i)}return[f,i,h,n,o,r,s,c,u,a,g,K,W,x,Z,V,ee,C]}class ut extends me{constructor(t){super(),be(this,t,nt,ft,de,{})}}new ut({target:document.getElementById("app")});
