var Le=Object.defineProperty;var Ne=(e,t,f)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:f}):e[t]=f;var ie=(e,t,f)=>(Ne(e,typeof t!="symbol"?t+"":t,f),f);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function f(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=f(i);fetch(i.href,a)}})();function x(){}function Oe(e){return e()}function xe(){return Object.create(null)}function F(e){e.forEach(Oe)}function Pe(e){return typeof e=="function"}function de(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ae(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function R(e,t,f){e.insertBefore(t,f||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function Re(e,t){for(let f=0;f<e.length;f+=1)e[f]&&e[f].d(t)}function p(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function k(){return G(" ")}function Se(){return G("")}function L(e,t,f,r){return e.addEventListener(t,f,r),()=>e.removeEventListener(t,f,r)}function K(e,t,f){f==null?e.removeAttribute(t):e.getAttribute(t)!==f&&e.setAttribute(t,f)}function re(e){return e===""?null:+e}function je(e){return Array.from(e.childNodes)}function ze(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t){e.value=t??""}let ge;function Y(e){ge=e}const D=[],A=[];let I=[];const ae=[],De=Promise.resolve();let he=!1;function Ie(){he||(he=!0,De.then(we))}function _e(e){I.push(e)}function ne(e){ae.push(e)}const ce=new Set;let z=0;function we(){if(z!==0)return;const e=ge;do{try{for(;z<D.length;){const t=D[z];z++,Y(t),qe(t.$$)}}catch(t){throw D.length=0,z=0,t}for(Y(null),D.length=0,z=0;A.length;)A.pop()();for(let t=0;t<I.length;t+=1){const f=I[t];ce.has(f)||(ce.add(f),f())}I.length=0}while(D.length);for(;ae.length;)ae.pop()();he=!1,ce.clear(),Y(e)}function qe(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function Fe(e){const t=[],f=[];I.forEach(r=>e.indexOf(r)===-1?t.push(r):f.push(r)),f.forEach(r=>r()),I=t}const le=new Set;let N;function ye(){N={r:0,c:[],p:N}}function pe(){N.r||F(N.c),N=N.p}function M(e,t){e&&e.i&&(le.delete(e),e.i(t))}function $(e,t,f,r){if(e&&e.o){if(le.has(e))return;le.add(e),N.c.push(()=>{le.delete(e),r&&(f&&e.d(1),r())}),e.o(t)}else r&&r()}function Ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ue(e,t,f){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=f,f(e.$$.ctx[r]))}function H(e){e&&e.c()}function T(e,t,f){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,f),_e(()=>{const a=e.$$.on_mount.map(Oe).filter(Pe);e.$$.on_destroy?e.$$.on_destroy.push(...a):F(a),e.$$.on_mount=[]}),i.forEach(_e)}function U(e,t){const f=e.$$;f.fragment!==null&&(Fe(f.after_update),F(f.on_destroy),f.fragment&&f.fragment.d(t),f.on_destroy=f.fragment=null,f.ctx=[])}function Te(e,t){e.$$.dirty[0]===-1&&(D.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(e,t,f,r,i,a,n,o=[-1]){const l=ge;Y(e);const s=e.$$={fragment:null,ctx:[],props:a,update:x,not_equal:i,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:xe(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};n&&n(s.root);let c=!1;if(s.ctx=f?f(e,t.props||{},(u,h,...m)=>{const O=m.length?m[0]:h;return s.ctx&&i(s.ctx[u],s.ctx[u]=O)&&(!s.skip_bound&&s.bound[u]&&s.bound[u](O),c&&Te(e,u)),h}):[],s.update(),c=!0,F(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const u=je(t.target);s.fragment&&s.fragment.l(u),u.forEach(w)}else s.fragment&&s.fragment.c();t.intro&&M(e.$$.fragment),T(e,t.target,t.anchor),we()}Y(l)}class me{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){U(this,1),this.$destroy=x}$on(t,f){if(!Pe(f))return x;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(f),()=>{const i=r.indexOf(f);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ue="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ue);function Ve(e){let t,f=e[0]+", "+e[1],r;return{c(){t=p("button"),r=G(f),K(t,"class","figure-button svelte-1fp8nh6")},m(i,a){R(i,t,a),d(t,r)},p(i,[a]){a&3&&f!==(f=i[0]+", "+i[1])&&ze(r,f)},i:x,o:x,d(i){i&&w(t)}}}function Xe(e,t,f){let{type:r}=t,{team:i}=t,{position:a={x:0,y:0}}=t,{field_array:n}=t,{move_to:o={bool:!1}}=t,{own_team:l}=t,{enemy_team:s}=t;return e.$$set=c=>{"type"in c&&f(0,r=c.type),"team"in c&&f(1,i=c.team),"position"in c&&f(2,a=c.position),"field_array"in c&&f(3,n=c.field_array),"move_to"in c&&f(4,o=c.move_to),"own_team"in c&&f(5,l=c.own_team),"enemy_team"in c&&f(6,s=c.enemy_team)},e.$$.update=()=>{e.$$.dirty&2},[r,i,a,n,o,l,s]}class oe extends me{constructor(t){super(),be(this,t,Xe,Ve,de,{type:0,team:1,position:2,field_array:3,move_to:4,own_team:5,enemy_team:6})}}function Ye(e,t,f){let r=[!1];const i=(o,l,s,c)=>{a("Pawn",s,c,o,{x:l.x-1,y:l.y-1}),a("Pawn",s,c,o,{x:l.x+1,y:l.y-1});for(let u=-1;u<2;u++)for(let h=-1;h<2;h++)h==0&&u==0||a("King",s,c,o,{x:l.x+h,y:l.y+u});for(let u=-1;u>-8&&!(a("Rook",s,c,o,{x:l.x+u,y:l.y})==!1||a("Queen",s,c,o,{x:l.x+u,y:l.y})==!1);u--);for(let u=1;u<8&&!(a("Rook",s,c,o,{x:l.x+u,y:l.y})==!1||a("Queen",s,c,o,{x:l.x+u,y:l.y})==!1);u++);for(let u=-1;u>-8&&!(a("Rook",s,c,o,{x:l.x,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x,y:l.y+u})==!1);u--);for(let u=1;u<8&&!(a("Rook",s,c,o,{x:l.x,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x,y:l.y+u})==!1);u++);for(let u=-1;u>-8&&!(a("Bishop",s,c,o,{x:l.x+u,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x+u,y:l.y+u})==!1);u--);for(let u=1;u<8&&!(a("Bishop",s,c,o,{x:l.x+u,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x+u,y:l.y+u})==!1);u++);for(let u=-1;u>-8&&!(a("Bishop",s,c,o,{x:l.x-u,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x-u,y:l.y+u})==!1);u--);for(let u=1;u<8&&!(a("Bishop",s,c,o,{x:l.x-u,y:l.y+u})==!1||a("Queen",s,c,o,{x:l.x-u,y:l.y+u})==!1);u++);a("Knight",s,c,o,{x:l.x-2,y:l.y+1}),a("Knight",s,c,o,{x:l.x-2,y:l.y-1}),a("Knight",s,c,o,{x:l.x+2,y:l.y+1}),a("Knight",s,c,o,{x:l.x+2,y:l.y-1}),a("Knight",s,c,o,{x:l.x-1,y:l.y+2}),a("Knight",s,c,o,{x:l.x+1,y:l.y+2}),a("Knight",s,c,o,{x:l.x-1,y:l.y-2}),a("Knight",s,c,o,{x:l.x+1,y:l.y-2})};function a(o,l,s,c,u){return u.y<0||u.y>7||u.x<0||u.x>7?(console.log("over borders!"),!1):c[u.y][u.x].team==l?(console.log("own team!"),!1):(c[u.y][u.x].figure==o&&c[u.y][u.x].team==s&&(console.log("chess"),r[0]=!0,r.push({type:o,pos:u}),console.log(r)),c[u.y][u.x].team!=s)}return[i,o=>{let l=[];for(let s=0;s<r.length;s++)if(l.push(r[s].pos),r[s].type=="Queen"||r[s].type=="Rook"||r[s].type=="Bishop"){if(r[s].pos.x==o.x){if(r[s].pos.y>o.y)for(let c=o.y+1;c<r[s].pos.y;c++)l.push({x:o.x,y:c});else for(let c=r[s].pos.y+1;c<o.y;c++)l.push({x:o.x,y:c});continue}if(r[s].pos.y==o.y){if(r[s].pos.x>o.x)for(let c=o.x+1;c<r[s].pos.x;c++)l.push({y:o.y,x:c});else for(let c=r[s].pos.x+1;c<o.x;c++)l.push({y:o.y,x:c});continue}if(r[s].pos.y>o.y&&r[s].pos.x>o.x)for(let c=1;o.x+c<r[s].pos.x;c++)l.push({x:o.x+c,y:o.y+c});if(r[s].pos.y<o.y&&r[s].pos.x<o.x)for(let c=1;c+r[s].pos.x<o.x;c++)l.push({x:r[s].pos.x+c,y:r[s].pos.y+c});if(r[s].pos.y>o.y&&r[s].pos.x<o.x)for(let c=1;c+r[s].pos.x<o.x;c++)l.push({x:o.x-c,y:o.y+c});if(r[s].pos.y<o.y&&r[s].pos.x>o.x)for(let c=1;o.x+c<r[s].pos.x;c++)l.push({x:o.x+c,y:o.y-c})}console.log(l)}]}class Ge extends me{constructor(t){super(),be(this,t,Ye,null,de,{check_check:0,get_check_prevent_position:1})}get check_check(){return this.$$.ctx[0]}get get_check_prevent_position(){return this.$$.ctx[1]}}function Ee(e,t,f){const r=e.slice();return r[18]=t[f],r[20]=f,r}function He(e){let t,f,r,i,a,n,o;const l=[et,Ze,We],s=[];function c(u,h){return h&2&&(f=null),h&2&&(r=null),f==null&&(f=u[1][Math.floor(u[20]/8)][u[20]%8].figure=="none"),f?0:(r==null&&(r=!!u[1][Math.floor(u[20]/8)][u[20]%8].is_highlight),r?1:2)}return i=c(e,-1),a=s[i]=l[i](e),{c(){t=p("div"),a.c(),n=k(),K(t,"class","square-odd svelte-6zkk18")},m(u,h){R(u,t,h),s[i].m(t,null),d(t,n),o=!0},p(u,h){let m=i;i=c(u,h),i===m?s[i].p(u,h):(ye(),$(s[m],1,1,()=>{s[m]=null}),pe(),a=s[i],a?a.p(u,h):(a=s[i]=l[i](u),a.c()),M(a,1),a.m(t,n))},i(u){o||(M(a),o=!0)},o(u){$(a),o=!1},d(u){u&&w(t),s[i].d()}}}function Je(e){let t,f,r,i,a,n,o;const l=[lt,ft,tt],s=[];function c(u,h){return h&2&&(f=null),h&2&&(r=null),f==null&&(f=u[1][Math.floor(u[20]/8)][u[20]%8].figure=="none"),f?0:(r==null&&(r=!!u[1][Math.floor(u[20]/8)][u[20]%8].is_highlight),r?1:2)}return i=c(e,-1),a=s[i]=l[i](e),{c(){t=p("div"),a.c(),n=k(),K(t,"class","square-even svelte-6zkk18")},m(u,h){R(u,t,h),s[i].m(t,null),d(t,n),o=!0},p(u,h){let m=i;i=c(u,h),i===m?s[i].p(u,h):(ye(),$(s[m],1,1,()=>{s[m]=null}),pe(),a=s[i],a?a.p(u,h):(a=s[i]=l[i](u),a.c()),M(a,1),a.m(t,n))},i(u){o||(M(a),o=!0)},o(u){$(a),o=!1},d(u){u&&w(t),s[i].d()}}}function We(e){let t,f,r;function i(n){e[17](n)}let a={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:q,enemy_team:J};return e[1]!==void 0&&(a.field_array=e[1]),t=new oe({props:a}),A.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),r=!0},p(n,o){const l={};o&2&&(l.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(l.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(l.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!f&&o&2&&(f=!0,l.field_array=n[1],ne(()=>f=!1)),t.$set(l)},i(n){r||(M(t.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),r=!1},d(n){U(t,n)}}}function Ze(e){let t,f,r;function i(n){e[16](n)}let a={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:q,enemy_team:J};return e[1]!==void 0&&(a.field_array=e[1]),t=new oe({props:a}),A.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),r=!0},p(n,o){const l={};o&2&&(l.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(l.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(l.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!f&&o&2&&(f=!0,l.field_array=n[1],ne(()=>f=!1)),t.$set(l)},i(n){r||(M(t.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),r=!1},d(n){U(t,n)}}}function et(e){let t="",f;return{c(){f=G(t)},m(r,i){R(r,f,i)},p:x,i:x,o:x,d(r){r&&w(f)}}}function tt(e){let t,f,r;function i(n){e[15](n)}let a={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:q,enemy_team:J};return e[1]!==void 0&&(a.field_array=e[1]),t=new oe({props:a}),A.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),r=!0},p(n,o){const l={};o&2&&(l.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(l.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(l.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!f&&o&2&&(f=!0,l.field_array=n[1],ne(()=>f=!1)),t.$set(l)},i(n){r||(M(t.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),r=!1},d(n){U(t,n)}}}function ft(e){let t,f,r;function i(n){e[14](n)}let a={type:e[1][Math.floor(e[20]/8)][e[20]%8].figure,team:e[1][Math.floor(e[20]/8)][e[20]%8].team,position:{x:e[20]%8,y:Math.floor(e[20]/8)},move_to:e[1][Math.floor(e[20]/8)][e[20]%8].move_to,own_team:q,enemy_team:J};return e[1]!==void 0&&(a.field_array=e[1]),t=new oe({props:a}),A.push(()=>ue(t,"field_array",i)),{c(){H(t.$$.fragment)},m(n,o){T(t,n,o),r=!0},p(n,o){const l={};o&2&&(l.type=n[1][Math.floor(n[20]/8)][n[20]%8].figure),o&2&&(l.team=n[1][Math.floor(n[20]/8)][n[20]%8].team),o&2&&(l.move_to=n[1][Math.floor(n[20]/8)][n[20]%8].move_to),!f&&o&2&&(f=!0,l.field_array=n[1],ne(()=>f=!1)),t.$set(l)},i(n){r||(M(t.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),r=!1},d(n){U(t,n)}}}function lt(e){let t="",f;return{c(){f=G(t)},m(r,i){R(r,f,i)},p:x,i:x,o:x,d(r){r&&w(f)}}}function Ke(e){let t,f,r,i;const a=[Je,He],n=[];function o(l,s){return(l[20]+Math.floor(l[20]/8))%2==0?0:1}return t=o(e),f=n[t]=a[t](e),{c(){f.c(),r=Se()},m(l,s){n[t].m(l,s),R(l,r,s),i=!0},p(l,s){f.p(l,s)},i(l){i||(M(f),i=!0)},o(l){$(f),i=!1},d(l){l&&w(r),n[t].d(l)}}}function rt(e){let t,f,r,i,a,n,o,l,s,c,u,h,m,O,W,C,Z,V,ee,E,y,S,ve,B,ke,te,X,fe,se,Me,Be={};f=new Ge({props:Be}),e[7](f);let Q=Ce({length:64}),g=[];for(let _=0;_<Q.length;_+=1)g[_]=Ke(Ee(e,Q,_));const Qe=_=>$(g[_],1,1,()=>{g[_]=null});return{c(){t=p("main"),H(f.$$.fragment),r=k(),i=p("input"),a=k(),n=p("button"),n.textContent="Place",o=k(),l=p("button"),l.textContent="Check",s=k(),c=p("button"),c.textContent="Prevent Pos",u=k(),h=p("br"),m=k(),O=p("p"),O.textContent="Y",W=k(),C=p("input"),Z=k(),V=p("p"),V.textContent="X",ee=k(),E=p("input"),y=k(),S=p("p"),S.textContent="Team",ve=k(),B=p("input"),ke=k(),te=p("div"),X=p("div");for(let _=0;_<g.length;_+=1)g[_].c();K(i,"type","text"),K(C,"type","number"),K(E,"type","number"),K(B,"type","text"),K(X,"class","chess-board svelte-6zkk18"),K(te,"class","board-container svelte-6zkk18")},m(_,b){R(_,t,b),T(f,t,null),d(t,r),d(t,i),P(i,e[2]),d(t,a),d(t,n),d(t,o),d(t,l),d(t,s),d(t,c),d(t,u),d(t,h),d(t,m),d(t,O),d(t,W),d(t,C),P(C,e[3]),d(t,Z),d(t,V),d(t,ee),d(t,E),P(E,e[4]),d(t,y),d(t,S),d(t,ve),d(t,B),P(B,e[5]),d(t,ke),d(t,te),d(te,X);for(let j=0;j<g.length;j+=1)g[j]&&g[j].m(X,null);fe=!0,se||(Me=[L(i,"input",e[8]),L(n,"click",e[6]),L(l,"click",e[9]),L(c,"click",e[10]),L(C,"input",e[11]),L(E,"input",e[12]),L(B,"input",e[13])],se=!0)},p(_,[b]){const j={};if(f.$set(j),b&4&&i.value!==_[2]&&P(i,_[2]),b&8&&re(C.value)!==_[3]&&P(C,_[3]),b&16&&re(E.value)!==_[4]&&P(E,_[4]),b&32&&B.value!==_[5]&&P(B,_[5]),b&2){Q=Ce({length:64});let v;for(v=0;v<Q.length;v+=1){const $e=Ee(_,Q,v);g[v]?(g[v].p($e,b),M(g[v],1)):(g[v]=Ke($e),g[v].c(),M(g[v],1),g[v].m(X,null))}for(ye(),v=Q.length;v<g.length;v+=1)Qe(v);pe()}},i(_){if(!fe){M(f.$$.fragment,_);for(let b=0;b<Q.length;b+=1)M(g[b]);fe=!0}},o(_){$(f.$$.fragment,_),g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)$(g[b]);fe=!1},d(_){_&&w(t),e[7](null),U(f),Re(g,_),se=!1,F(Me)}}}let q="white",J="black";function nt(e,t,f){let r,i=[];for(let y=0;y<8;y++){i.push([]);for(let S=0;S<8;S++)i[y].push({figure:"none",move_to:{bool:!1},is_highlight:!1,origin_pos:!1})}i[4][4]={figure:"King",team:q,move_to:{bool:!1},is_highlight:!1,origin_pos:!1},i=i;let a="none",n=0,o=0,l="";function s(){console.log(a),console.log(n),console.log(o),console.log(l),f(1,i[n][o]={figure:a,team:l,move_to:{bool:!1},is_highlight:!1,origin_pos:!1},i),f(1,i)}function c(y){A[y?"unshift":"push"](()=>{r=y,f(0,r)})}function u(){a=this.value,f(2,a)}const h=()=>r.check_check(i,{x:4,y:4},q,J),m=()=>r.get_check_prevent_position({x:4,y:4});function O(){n=re(this.value),f(3,n)}function W(){o=re(this.value),f(4,o)}function C(){l=this.value,f(5,l)}function Z(y){i=y,f(1,i)}function V(y){i=y,f(1,i)}function ee(y){i=y,f(1,i)}function E(y){i=y,f(1,i)}return[r,i,a,n,o,l,s,c,u,h,m,O,W,C,Z,V,ee,E]}class ut extends me{constructor(t){super(),be(this,t,nt,rt,de,{})}}new ut({target:document.getElementById("app")});
